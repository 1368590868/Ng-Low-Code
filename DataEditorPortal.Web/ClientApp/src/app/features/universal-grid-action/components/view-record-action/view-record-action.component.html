<p-table
  *ngIf="!loading; else elseBlock"
  [value]="viewData"
  [rowHover]="true"
  styleClass="p-datatable-striped">
  <ng-template pTemplate="header">
    <tr>
      <th>Name</th>
      <th>Value</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-viewData>
    <tr>
      <td>{{ viewData.name }}</td>
      <td>
        <ng-container
          *ngIf="!viewData.template"
          [ngTemplateOutlet]="
            viewData.filterType === 'date'
              ? date
              : viewData.filterType === 'numeric'
              ? numeric
              : viewData.filterType === 'boolean'
              ? boolean
              : viewData.filterType === 'attachments'
              ? attachments
              : normal
          "></ng-container>
        <ng-template #boolean>{{ viewData.value | boolean }}</ng-template>
        <ng-template #date>{{
          viewData.value
            | date : (viewData.format === '' ? undefined : viewData.format)
        }}</ng-template>
        <ng-template #numeric>{{
          viewData.value
            | number : (viewData.format === '' ? undefined : viewData.format)
        }}</ng-template>
        <ng-template #attachments>
          <app-attachments
            [data]="viewData.value"
            [gridName]="gridName"
            [fieldName]="viewData.name"
            [showAll]="true"></app-attachments>
        </ng-template>
        <ng-template #normal>{{ viewData.value }}</ng-template>
        <span
          *ngIf="viewData.template"
          [innerHTML]="selectedRecords[0] | template : viewData.template">
        </span>
      </td>
    </tr>
  </ng-template>
</p-table>
<ng-template #elseBlock>
  <div class="flex flex-wrap" *ngFor="let e of [].constructor(6)">
    <p class="w-4 px-2 my-2 py-1">
      <p-skeleton></p-skeleton>
    </p>
    <p class="w-8 px-2 my-2 py-1">
      <p-skeleton></p-skeleton>
    </p>
  </div>
</ng-template>
