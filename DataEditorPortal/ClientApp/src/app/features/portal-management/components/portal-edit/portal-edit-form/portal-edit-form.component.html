<p-card styleClass="">
  <ng-template pTemplate="title"> Add / Edit / View Configuration </ng-template>
  <ng-template pTemplate="subtitle">
    Customize the Add / Edit / View Form or select custom Form.
  </ng-template>
  <p-divider styleClass="mt-0"></p-divider>
  <div class="w-full pb-1" style="margin-top: -1rem">
    <p-tabView>
      <p-tabPanel header="Settings for Adding">
        <app-form-layout
          #addLayout
          type="ADD"
          [queryTextRequired]="dataSourceIsQueryText"
          [config]="addingFormConfig"
          [dbColumns]="dbColumns"></app-form-layout>
      </p-tabPanel>
      <p-tabPanel header="Settings for Editing">
        <app-form-layout
          #updateLayout
          type="UPDATE"
          [queryTextRequired]="dataSourceIsQueryText"
          [config]="updatingFormConfig"
          [dbColumns]="dbColumns"></app-form-layout>
      </p-tabPanel>
      <!-- <p-tabPanel header="Settings for Viewing">
        <app-form-layout
          #updateLayout
          type="UPDATE"
          [config]="updatingFormConfig"
          [dbColumns]="dbColumns"></app-form-layout>
      </p-tabPanel> -->
      <p-tabPanel header="Settings for Deleting">
        <app-form-layout-delete
          #deleteLayout
          type="Delete"
          [queryTextRequired]="dataSourceIsQueryText"
          [config]="deleteFormConfig"></app-form-layout-delete>
      </p-tabPanel>
    </p-tabView>
  </div>

  <ng-template pTemplate="footer">
    <div class="flex align-items-center">
      <p-button
        label="Back"
        icon="pi pi-angle-left"
        [disabled]="isLoading || isSaving"
        styleClass="p-button-outlined"
        (onClick)="onBack()"></p-button>
      <p-button
        label="Save Draft & Exit"
        icon="pi pi-save"
        class="ml-auto"
        [disabled]="isLoading || isSaving"
        styleClass="p-button-outlined"
        (onClick)="onSaveAndExit()"
        [loading]="isSaving && isSavingAndExit"></p-button>
      <p-button
        label="Save & Publish"
        icon="pi pi-check"
        iconPos="left"
        styleClass="p-button-success"
        [style]="{ 'margin-left': '.5em' }"
        [disabled]="isLoading || isSaving"
        (onClick)="onSaveAndNext()"
        [loading]="isSaving && isSavingAndNext"></p-button>
    </div>
  </ng-template>
</p-card>
