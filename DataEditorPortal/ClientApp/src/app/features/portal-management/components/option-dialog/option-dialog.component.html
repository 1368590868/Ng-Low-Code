<p-dialog
  header="Advanced Configuration"
  [(visible)]="visible"
  [style]="{ minWidth: '40rem' }"
  [modal]="true"
  [dismissableMask]="true"
  appendTo="body"
  contentStyleClass="border-top-1 surface-border py-3">
  <div #container class="dialog-content">
    <div class="flex align-items-center">
      Advanced: &nbsp;&nbsp;
      <p-inputSwitch
        [(ngModel)]="advance"
        (onChange)="changeSwitch($event.checked)"></p-inputSwitch>
    </div>
    <p-divider styleClass="mb-0"> </p-divider>
    <div class="flex flex-column mb-2">
      <p-orderList
        *ngIf="!advance; else advanceRef"
        appendTo="body"
        class="option-list"
        [value]="optionArr"
        [stripedRows]="true"
        [dragdrop]="true">
        <ng-template let-option pTemplate="item">
          <div class="flex align-items-center">
            <div class="mr-3">
              <input
                [formControl]="option.formControl"
                pInputText
                placeholder="Enter a value"
                required />
            </div>
            <div>
              <p-button
                icon="pi pi-trash"
                styleClass="p-button-rounded p-button-text"
                (onClick)="onRemoveFilter(option)"></p-button>
            </div>
          </div>
        </ng-template>
      </p-orderList>
      <ng-template #advanceRef>
        <p-divider styleClass="mb-0"> </p-divider>

        <ngx-monaco-editor
          (onInit)="onInit()"
          [style]="dialogStyle"
          [options]="editorOptions"
          [(ngModel)]="code"></ngx-monaco-editor
      ></ng-template>
      <p-button
        *ngIf="!advance"
        label="Add"
        icon="pi pi-plus"
        class="mt-1"
        styleClass="p-button-text p-button-sm"
        (onClick)="onAdd()"></p-button>
    </div>
  </div>
  <ng-template pTemplate="footer">
    <p-button
      icon="pi pi-times"
      (onClick)="onCancel()"
      label="Cancle"
      styleClass="p-button-text"></p-button>
    <p-button
      icon="pi pi-check"
      (onClick)="onOk()"
      label="Ok"
      [disabled]="buttonDisabled"
      [loading]="isLoading"></p-button>
  </ng-template>
</p-dialog>
